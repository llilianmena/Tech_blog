<!-- views/post.handlebars -->
{{!-- {{#extend "layouts/main"}}
  {{#block "body"}} --}}
    <h1>{{post.title}}</h1>
    <p>{{post.content}}</p>
    <hr>
    <h3>Comments</h3>
    <ul>
      {{#each post.Comments}}
        <li>
          <p>{{this.dataValues.content}} - <em>by {{this.User.dataValues.username}}</em></p>
        </li>
      {{else}}
        <p>No comments yet. Be the first to comment!</p>
      {{/each}}
    </ul>

    {{#if session.userId}}
      <form action="/comment/create" method="POST">
        <textarea name="content" placeholder="Add a comment" required></textarea>
        <input type="hidden" name="postId" value="{{post.id}}">
        <button type="submit">Submit Comment</button>
      </form>
    {{else}}
      <p>You must be logged in to comment.</p>
    {{/if}}
  {{!-- {{/block}}
{{/extend}} --}}
